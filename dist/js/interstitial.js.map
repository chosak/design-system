{"version":3,"sources":["webpack://cfpb-design-system/./docs/assets/js/interstitial.js"],"names":["getUrlParameter","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","page","window","PAGES_ALLOWED","localStorage","getItem","now","Date","lastSeen","parse","daysSinceDirectionsSeen","pageNames","document","querySelectorAll","i","length","textContent","querySelector","classList","add","remove","setAttribute","setItem"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA,SAASA,eAAT,CAA0BC,IAA1B,EAAiC;AAC/BA,MAAI,GAAGA,IAAI,CAACC,OAAL,CAAc,MAAd,EAAsB,KAAtB,EAA8BA,OAA9B,CAAuC,MAAvC,EAA+C,KAA/C,CAAP;AACA,MAAMC,KAAK,GAAG,IAAIC,MAAJ,CAAY,WAAWH,IAAX,GAAkB,WAA9B,CAAd;AACA,MAAMI,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAYC,QAAQ,CAACC,MAArB,CAAhB;AACA,SAAOH,OAAO,KAAK,IAAZ,GAAmB,EAAnB,GAAwBI,kBAAkB,CAAEJ,OAAO,CAAC,CAAD,CAAP,CAAWH,OAAX,CAAoB,KAApB,EAA2B,GAA3B,CAAF,CAAjD;AACD;;AAED,IAAMQ,IAAI,GAAGV,eAAe,CAAE,MAAF,CAA5B;;AAEA,IAAKU,IAAI,IAAIC,MAAM,CAACC,aAAP,CAAqBF,IAArB,CAAb,EAA0C;AACxC;AACA,MAAKG,YAAY,CAACC,OAAb,CAAsB,0BAAtB,CAAL,EAA0D;AACxD,QAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AACA,QAAMC,QAAQ,GAAGD,IAAI,CAACE,KAAL,CAAYL,YAAY,CAACC,OAAb,CAAsB,0BAAtB,CAAZ,CAAjB;AACA,QAAMK,uBAAuB,GAAG,CAAEJ,GAAG,GAAGE,QAAR,IAAqB,IAArB,GAA4B,EAA5B,GAAiC,EAAjC,GAAsC,EAAtE;;AACA,QAAKE,uBAAuB,IAAI,EAAhC,EAAqC;AACnCR,YAAM,CAACJ,QAAP,CAAgBL,OAAhB,CAAyBS,MAAM,CAACC,aAAP,CAAqBF,IAArB,CAAzB;AACD;AACF;;AACD,MAAMU,SAAS,GAAGC,QAAQ,CAACC,gBAAT,CAA2B,+BAA3B,CAAlB;;AACA,OAAM,IAAIC,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAGH,SAAS,CAACI,MAA/B,EAAuCD,CAAC,EAAxC,EAA6C;AAC3CH,aAAS,CAACG,CAAD,CAAT,CAAaE,WAAb,eAAgCf,IAAhC;AACD;;AACDW,UAAQ,CAACK,aAAT,CAAwB,kCAAxB,EAA6DC,SAA7D,CAAuEC,GAAvE,CAA4E,yBAA5E;AACAP,UAAQ,CAACK,aAAT,CAAwB,+BAAxB,EAA0DC,SAA1D,CAAoEE,MAApE,CAA4E,UAA5E;AACAR,UAAQ,CAACK,aAAT,CAAwB,qCAAxB,EAAgEI,YAAhE,CAA8E,MAA9E,EAAsFnB,MAAM,CAACC,aAAP,CAAqBF,IAArB,CAAtF;AACAG,cAAY,CAACkB,OAAb,CAAsB,0BAAtB,EAAkD,IAAIf,IAAJ,EAAlD;AACD,C","file":"js/interstitial.js","sourcesContent":["/**\n * @param {String} name - The key of the URL query parameter to retrieve\n * @returns {String} - Value of URL query parameter\n */\nfunction getUrlParameter( name ) {\n  name = name.replace( /[\\[]/, '\\\\[' ).replace( /[\\]]/, '\\\\]' );\n  const regex = new RegExp( '[\\\\?&]' + name + '=([^&#]*)' );\n  const results = regex.exec( location.search );\n  return results === null ? '' : decodeURIComponent( results[1].replace( /\\+/g, ' ' ) );\n}\n\nconst page = getUrlParameter( 'page' );\n\nif ( page && window.PAGES_ALLOWED[page] ) {\n  // Skip the interstitial page if they've seen it within the past two weeks\n  if ( localStorage.getItem( 'cms-directions-last-seen' ) ) {\n    const now = new Date();\n    const lastSeen = Date.parse( localStorage.getItem( 'cms-directions-last-seen' ) );\n    const daysSinceDirectionsSeen = ( now - lastSeen ) / 1000 / 60 / 60 / 24;\n    if ( daysSinceDirectionsSeen <= 14 ) {\n      window.location.replace( window.PAGES_ALLOWED[page] );\n    }\n  }\n  const pageNames = document.querySelectorAll( '[data-interstitial-page-name]' );\n  for ( let i = 0; i < pageNames.length; i++ ) {\n    pageNames[i].textContent = `\"${ page }\"`;\n  }\n  document.querySelector( '[data-interstitial-notification]' ).classList.add( 'm-notification__visible' );\n  document.querySelector( '[data-interstitial-next-step]' ).classList.remove( 'u-hidden' );\n  document.querySelector( '[data-interstitial-redirect-button]' ).setAttribute( 'href', window.PAGES_ALLOWED[page] );\n  localStorage.setItem( 'cms-directions-last-seen', new Date() );\n}\n"],"sourceRoot":""}